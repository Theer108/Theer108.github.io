<!DOCTYPE html>
<html>
<head>
    <!-- [[! Document Settings ]] -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- [[! Page Meta ]] -->
    <title>Clean code - Functions</title>
    <meta name="description" content="Nerdy Geek - Passionate view on Computer Science, IT and nerdy things" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="/assets/images/favicon.ico" >

    <!-- [[! Styles'n'Scripts ]] -->
    <link rel="stylesheet" type="text/css" href="/assets/css/screen.css" />
    <link rel="stylesheet" type="text/css"
          href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400" />
    <link rel="stylesheet" type="text/css" href="/assets/css/syntax.css" />

    <!-- [[! highlight.js ]] -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <!-- [[! Ghost outputs important style and meta data with this tag ]] -->
        <link rel="canonical" href="/" />
    <meta name="referrer" content="origin" />
    <link rel="next" href="/page2/" />

    <meta property="og:site_name" content="Nerdy Geek" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Nerdy Geek" />
    <meta property="og:description" content="Passionate view on Computer Science, IT and nerdy things" />
    <meta property="og:url" content="/" />
    <meta property="og:image" content="/assets/images/cover1.jpg" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Nerdy Geek" />
    <meta name="twitter:description" content="Passionate view on Computer Science, IT and nerdy things" />
    <meta name="twitter:url" content="/" />
    <meta name="twitter:image:src" content="/assets/images/cover1.jpg" />

    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Website",
    "publisher": "Nerdy Geek",
    "url": "/",
    "image": "/assets/images/cover1.jpg",
    "description": "Passionate view on Computer Science, IT and nerdy things"
}
    </script>

    <meta name="generator" content="Jekyll 3.0.0" />
    <link rel="alternate" type="application/rss+xml" title="Nerdy Geek" href="/feed.xml" />


</head>
<body class="home-template nav-closed">

    <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
        <li class="nav-home " role="presentation"><a href="/">Home</a></li>
        <li class="nav-about " role="presentation"><a href="/about">About</a></li>
        <li class="nav-craftsman " role="presentation"><a href="/tag/craftsman">Software Craftsman</a></li>
        <li class="nav-author " role="presentation"><a href="/author/Theer">Author</a></li>
    </ul>
    <a class="subscribe-button icon-feed" href="/feed.xml">Subscribe</a>
</div>
<span class="nav-cover"></span>


    <div class="site-wrapper">

        <!-- [[! Everything else gets inserted here ]] -->
        <!-- < default -->

<!-- The comment above "< default" means - insert everything in this file into -->
    <!-- the [body] of the default.hbs template, which contains our header/footer. -->

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<header class="main-header post-head " style="background-image: url(/assets/images/cover1.jpg) ">
    <nav class="main-nav  overlay  clearfix">
        <a class="blog-logo" href="/"><img src="/assets/images/logo.png" alt="Blog Logo" /></a>
        
    </nav>
</header>

<main class="content" role="main">

    <article class="post tag-craftsman">

        <header class="post-header">
            <h1 class="post-title">Clean code - Functions</h1>
            <section class="post-meta">
            <!-- <a href='/'>Łukasz Chrząszcz</a> -->
            <time class="post-date" datetime="2016-07-05">05 Jul 2016</time>
                <!-- [[tags prefix=" on "]] -->
                 
                on 
                
                    
                       <a href='/tag/craftsman'>Craftsman</a>
                       
                
                
            </section>
        </header>

        <section class="post-content">
            
            <p>Functions! Good old functions… Your first thought after hearing “readable code”
was probably functions, methods, etc. In fact you were right. Those little things
diving our code into reusable blocks are the most crucial when it comes to cleaning
codebase.</p>

<p>But let’s get back to the beginning - how was it in good old DOS Age? Your application
was simply set of commands with some simple loops, gotos (kill it kill it kill it!), etc.
After that smart people introduced functions to cleverly divide your code to reusable blocks
and enabling you to name them. Now that’s a real thing! - <strong>name them</strong>. With that in mind
we can move to the first point. To the compilation and beyond!</p>

<p><img src="http://imgs.xkcd.com/comics/goto.png" alt="GoTo" /></p>

<h2 id="proper-naming">Proper naming</h2>

<p>As it may seem obvious - think how many times you returned to your own code and wondered
<em>oh snap! What the hell does this ‘check’ do?</em>. Probably a lot. This is not an easy thing
to come up with a proper name at the beginning, so what I do to help myself in this task
is simply focus on one main thing that function does (by the way - next point shows that 
in fact your methods should do just one task, no more, no less, but we will get to that).</p>

<p>To illustrate that point let consider code below:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>public void isPasswordCorrect(String username, String password) {
    String correctPassword = getPasswordFromDatabase(username);
    if (correctPassword.equals(password) {
        updateUserSuccessfulLoginTimestamp(username);
        
        Session session = createNewSession(username);
        registerSession(session);
        
        return true;
    }
    return false;
}
</code></pre>
</div>

<p>As you see function name is completely wrong here! No one could possibly think that
this will create a session for user and register it somewhere. Everyone would be like
<em>:( :( :( I just wanted to check if password is correct :( :( :(</em>. I admit that this
example looks a bit exaggerated, but actually I spent a loooot of time debugging a bug
that was caused by Wicket sessions.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Session session = getSessionForUser(username); // different user than current one
session.invalidateNow();
</code></pre>
</div>

<p>You might think that this code invalidates session for user <em>username</em>… WROOOOONG!
In fact it extracts session from current thread and invalidates that now. So
user executing this code gets kicked :D Fun!</p>

<p>So to sum up this point - <strong>take extra time</strong> after implementing function to <strong>give it
a proper name</strong>. It won’t cost you much, but you will have a better understanding of what
function does after you implemented it.</p>

<h2 id="keep-functions-small">Keep functions small</h2>

<p>This point is the most important one - functions should be kept as small as possible
and they should be delegated to do one thing only. You may ask - <em>how is that possible?
My application is more complicated than yours n00b!</em> Let me explain - what I meant was
that you should make your function do one thing at some given abstraction level.
For example if you need to write something to a file, you could do it that way:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>public void writeToFile(String filepath, String content) {
    try {
        BufferedWriter writer = new itWouldBeTooLong();
        writer.writer("This will be a file");
        writer.writer("Delimiter");
        writer.writer(content);
        writer.writer("That was it");
        writer.close();
    } catch (FileNotFoundException ex) {

    }
}
</code></pre>
</div>

<p>In this case it’s not so bad after all, but consider this:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>public void writerToFile(String filepath, String content) {
    try {
        openAndWriteToFile(filepath, content);
    } catch (FileNotFoundException ex) {
        // 
    }
    
private void openFileAndWriteString(String filepath, String content) throws ... {
    BufferedWriter writer = new itWouldBeTooLong();
    writeStringToFile(writer, content);
    writer.close();
}

private void writeStringToWriter(BufferedWriter writer, String content) {
    writer.writer("This will be a file");
    writer.writer("Delimiter");
    writer.writer(content);
    writer.writer("That was it");
}
</code></pre>
</div>

<p>Now you have a <strong>beautiful structure</strong> of functiona <strong>each doing it’s own thing</strong> and delegating
job further. If you ever wanted to change a business logic of messages in files - you
just change last function, simple as that. You don’t need to distract yourself with
exception handling or whether the file is opened or not, etc.</p>

<p>Please also notice the way we handled exception above - public method is responsible
for that. It’s a good idea to <strong>extract exception handling to separate method</strong> obligated
to do that one thing. It just looks clean and is amazingly separated from business logic!</p>

<p>My solution to that? <strong>Design one big function</strong> - prototype function lets say - and after it works
more or less the way I want it to, I <strong>divide it to separate functions</strong>. With modern IDEs it’s
fairly simple - with IntelliJ you just select a bunch of lines and press Ctrl+Alt+M, provide
method name, hit enter and receive bacon!</p>

<p><img src="http://vignette3.wikia.nocookie.net/bacon/images/e/e4/Push-button-receive-bacon.png/revision/latest?cb=20110421190452" alt="Bacon" /></p>

<h2 id="summary">Summary</h2>

<p>I don’t want this post to be too long, so I’ll end with just these two points, but there’s
obviously much more to say about increasing readability of functions. I will mention a few 
more in next post. See you soon!</p>


        </section>

        <footer class="post-footer">

            <!-- Everything inside the #author tags pulls data from the author -->
            <!-- #author-->

            
            <figure class="author-image">
                <a class="img" href="/author/Theer" style="background-image: url(/assets/images/lukasz.png)"><span class="hidden">'s Picture</span></a>
            </figure>
            

            <section class="author">
                <h4><a href="/author/Theer">Łukasz Chrząszcz</a></h4>
                
                
                    <p> Passionate Computer Scientist keen on discovering new things and laying his hand on them</p>
                
                <div class="author-meta">
                    <span class="author-location icon-location"> Kraków, Poland</span> 
                    <span class="author-link icon-link"><a href="http://theer108.github.io/"> Theer108.github.io/</a></span> 
                </div>
            </section>

            <!-- /author  -->

            <section class="share">
                <h4>Share this post</h4>
                <a class="icon-twitter" href="http://twitter.com/share?text=Clean code - Functions&amp;url=http://theer108.github.io/clean-code-functions"
                    onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://theer108.github.io/clean-code-functions"
                    onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=http://theer108.github.io/clean-code-functions"
                   onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>
            
            <!-- Add Disqus Comments -->
            
                <div id="disqus_thread"></div>
<script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'theer108'; // required: replace example with your forum shortname
        var disqus_identifier = '/clean-code-functions';
        var disqus_url = 'http://theer108.github.io//clean-code-functions';
 
            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>

            
            
        </footer>

    </article>

</main>

<aside class="read-next">

    <!-- [[! next_post ]] -->
    
    <!-- [[! /next_post ]] -->
    <!-- [[! prev_post ]] -->
    
        <a class="read-next-story prev " style="background-image: url(/assets/images/cover2.jpg)" href="/clean-code">
            <section class="post">
                <h2>Clean code - Variables</h2>
                <p>Keeping your code clean is almost as crucial as implementing features on time. Do you...</p>
            </section>
        </a>
    
    <!-- [[! /prev_post ]] -->
</aside>

<!-- /post -->


        <footer class="site-footer clearfix">
          <section class="copyright"><a href="/">Nerdy Geek</a> &copy; 2016</section>
          <section class="poweredby">Proudly published with <a href="https://jekyllrb.com/">Jekyll</a> using <a href="https://github.com/biomadeira/jasper">Jasper</a></section>
        </footer>
    </div>
    <!-- [[! Ghost outputs important scripts and data with this tag ]] -->
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
    <!-- [[! The main JavaScript file for Casper ]] -->
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="/assets/js/index.js"></script>

    <!-- Add Google Analytics  -->
        <!-- Google Analytics Tracking code -->
     <script>
	    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	    ga('create', '', 'auto');
	    ga('send', 'pageview');

     </script>   
</body>
</html>
